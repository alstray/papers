%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\section{実行実験}\label{chap:experiment}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

本章では，前章で提案した3つの符号化
\textsf{undirected}，\textsf{directed}，\textsf{acyclicity}
の性能を評価するために実行実験を行った．
%
実験に使用したベンチマーク問題集(計1008問)は，以下の通りである．
\begin{itemize}
\item \textsf{fhcp} (1001問)\\
  Jerzy Filar と Vladimir Ejov が主導する
  チームプロジェクト Flinders Hamiltonian Cycle Project
  \footnote{\url{https://sites.flinders.edu.au/flinders-hamiltonian-cycle-project/}}
  が提供するハミルトン閉路問題のグラフインスタンス．\cite{haythorpe19:fhcp}
\item \textsf{grid} (6問)\\
  $2N+1$次の正方グリッドグラフのインスタンス($3\leq N\leq 8$)．
\item \textsf{usmap} (1問)\\
  図~\ref{fig:USmap}に示されたグラフ．
  D.~E~.Knuth の教科書
  The Art of Computer Programming~\cite{Knuth:TAOCP:SAT}
  に記載されている最短ハミルトン路問題の例.
\end{itemize}

使用した ASP システムは{\clingo}のバージョン5.5.0である．
実験環境は，Mac mini Intel Corei7 3.2GHz 64GBメモリである．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{ハミルトン閉路問題の実験結果}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{fig/cyclesat_table.tex}%label{sat_table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[tb]
\begin{center}
  \includegraphics[width=0.8\linewidth]{fig/cactus_fhcp.png}
\caption{ハミルトン閉路問題: カクタスプロット}
\label{cactus}
\end{center}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%--
本節では，ハミルトン閉路問題の実験結果について述べる．
{\clingo}のオプションは\textit{trendy}を使用し，一問あたりの時間制限を30分とした．
ベンチマーク問題は，\textsf{fhcp}の1001問である．

%--
表~\ref{sat_table}に，各符号化で解けた問題数を，問題の頂点数毎に示す．
左から，問題の頂点数，問題数，各符号化で解けた問題数を示している．
%
解けた問題数は，
\textsf{undirected}符号化が715問，
\textsf{directed}符号化が875問，
\textsf{acyclicity}符号化が473問であり，
\textsf{directed}がもっとも多くの問題を解いた．
\textsf{directed}は，どの頂点数においても同様に，
安定した性能の良さを示した．
図~\ref{cactus}に，カクタスプロットを示す．
縦軸は問題を解くのに要した CPU 時間，横軸は解けた問題数を表す．
グラフが右によるほど多くの問題を解けたことを示し，
下によるほどより速く解けたことを示す．
図~\ref{cactus}より，\textsf{directed}符号化が，
他の2つの符号化と比較して，より多くの問題を高速に解いていることが確認できた．
%% しかし，一部\textsf{undirected}符号化が\textsf{directed}符号化を下回る
%% 部分が確認できる．
%% 実際に，一部の問題では\textsf{undirected}符号化が
%% \textsf{directed}符号化よりも高速に解いていた．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{最短ハミルトン閉路問題}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{fig/min_table_tr.tex}%\label{min_table_tr}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%--
本節では，最短ハミルトン閉路問題の実験結果について述べる．
{\clingo}のオプションは\textit{trendy}を使用し，
一問あたりの時間制限を3時間とした．
ベンチマーク問題は，\textsf{grid}と\textsf{usmap}の合計13問である．

%--
表\ref{min_table_tr}に，各符号化で得られた最適値と最良値を示す．
各問題毎に，最も良かった値を赤字で示している．
*マークは，最適値を表している．
最適値と最良値の数は，
\textsf{undirected}符号化が10問，
\textsf{directed}符号化が7問，
\textsf{acyclicity}符号化が4問であり，
\textsf{undirected}符号化の優位性が確認できた．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{コスト制約付きハミルトン路問題}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{fig/cost_table.tex}%\label{cost_table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%--
本節では，第~\ref{chap:background}章でも説明した
コスト制約付きハミルトン路問題(全列挙)の実験結果について述べる．
{\clingo}のオプションは\textit{crafty}を使用し，
一問あたりの時間制限を3時間とした．
ベンチマーク問題は，D.~E~.Knuth の教科書
The Art of Computer Programming~\cite{Knuth:TAOCP:SAT}
に記載されているグラフを使用した(図~\ref{fig:USmap}参照)．
このグラフは，米国本土48州の隣接関係を表しており，
頂点数は48，辺の数は105である．
この問題の最短距離は 11698 である(表~\ref{min_table_tr}参照)．
今回の実験では，
コスト制約を最短距離のN倍以下
($N=1.00,1.01,1.02,1.05,1.1,1.2,1.3,1.4,1.5,1.6$)として，解の全列挙を
行った．

%--
表~\ref{cost_table}に，各符号化が解の全列挙に要した CPU 時間を示す．
表の1列目はコスト制約の閾値と最短距離からの倍率，2列目は解の総数を表している．
各閾値毎に，最も良かった値を赤字で示している．
表より，
\textsf{acyclicity}符号化が，他の符号化と比較して，より多くの問題を
高速に解いていることがわかる．また，平均CPU時間も最も短い．
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "paper"
%%% End:
