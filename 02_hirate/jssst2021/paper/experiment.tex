%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\section{実行実験}\label{chap:experiment}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

考案した3つの符号化
%\textsf{undirected}，\textsf{directed}，\textsf{acyclicity}
の性能を評価するために実行実験を行った．
実験に使用したベンチマーク問題は以下の通りである．

\begin{itemize}
\item \textbf{ハミルトン閉路問題 (1,001問)}\\
  Flinders Hamiltonian Cycle Project (FHCP) で公開されている
  HCPインスタンス(全1,001問)を使用した~\cite{haythorpe19:fhcp}．
%  \footnote{{\tt https://sites.flinders.edu.au/flinders-hamiltonian-cycle-project/}}
  この問題集は FHCP Challenge と呼ばれる国際競技会で使用された
  頂点数が 66個から9,528個の HCP インスタンスで構成されている．
  すべてのインスタンスはハミルトン閉路が存在する\textsf{SAT}インスタン
  スである．
\item \textbf{最短ハミルトン路問題 (7問)}\\
  図~\ref{fig:USmap}に示した米国本土48州の隣接グラフに基づく問題インス
  タンス(1問)と，
  $2N+1$次の正方グリッドグラフに基づく問題インスタンス
  (6問，$3\leq N\leq 8$)を使用した．
\item \textbf{コスト制約付きハミルトン路問題(全列挙)}\\
  図~\ref{fig:USmap}に示した米国本土48州の隣接グラフに基づく問題インス
  タンスを使用した．
  コード~\ref{code:cost_constraint.lp}に示したコスト制約の
  閾値\code{c}として，
  最短距離(11,698マイル)の$N$倍となる10個の値，
  $N=1.00,1.01,1.02,1.05,1.1,1.2,1.3,1.4,1.5,1.6$
  を使用した．
\end{itemize}

ASP システムには，{\clingo}のバージョン5.5.0 を使用し，
実験環境は Mac OS (Intel Core i7 3.2GHz 64GBメモリ)である．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{ハミルトン閉路問題}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{fig/cyclesat_table.tex}%label{sat_table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[tb]
\begin{center}
  \includegraphics[width=0.8\linewidth]{fig/cactus_fhcp.png}
\caption{ハミルトン閉路問題: カクタスプロット}
\label{cactus}
\end{center}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

表~\ref{sat_table}に，ハミルトン閉路問題の解けた問題数を示す．
左から，HCPインスタンスの頂点数の範囲，問題数，
各符号化で解けた問題数を示している．
各範囲において，最もよい結果をボールド体で示している．
% 
解けた問題数は，
\textsf{undirected}符号化が 715 問，
\textsf{directed}符号化が 875 問，
\textsf{acyclicity}符号化が 473 問であり，
\textsf{directed}符号化がもっとも多くの問題を解いた．
\textsf{directed}符号化は，どの頂点数の範囲においても他の符号化と同じ
かより多くの問題を解いており，その優位性が確認できる．

図~\ref{cactus}に，カクタスプロットを示す．
縦軸は問題を解くのに要した CPU 時間(秒)，横軸は解けた問題数を表す．
グラフが右によるほど多くの問題を解けたことを示し，
下によるほどより速く解けたことを示す．
図~\ref{cactus}より，\textsf{directed}符号化が，
他の2つの符号化と比較して，より多くの問題を高速に解いていることが確認できる．

今回の実験では，
ASPシステム{\clingo}のオプションは\textit{trendy}を使用し，
1問あたりの時間制限は30分とした．
また，\textsf{directed}と\textsf{acyclicity}符号化については，
個数制約の上限(コード\ref{code:hamilton2.lp}と\ref{code:hamilton3.lp}の1行目)
を省略したものを使用した．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{最短ハミルトン路問題}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{fig/min_table_tr.tex}%\label{min_table_tr}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

表\ref{min_table_tr}に，最短ハミルトン路問題について，
各符号化で得られた目的関数の値を示す．
ASPシステム{\clingo}のオプションは\textit{trendy}を使用し，
1問あたりの時間制限は3時間とした．
% 
各問題ごとに，最も良かった値をボールド体で示している．
*マークは，最適値を表している．
最適値と最良値の数は，
\textsf{undirected}符号化が5問，
\textsf{directed}符号化が3問，
\textsf{acyclicity}符号化が3問であり，
\textsf{undirected}符号化が2問ではあるが，
他の符号化より精度の高い解を生成した．
grid6 と US48 については，3つの符号化すべてで最適値を得ることができた．
最適値を得るのに要した CPU 時間は，最も速かった\textsf{undirected}符号
化で，grid6 は 1.451秒，US48 は 6.68秒であった．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{コスト制約付きハミルトン路問題}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{fig/cost_table.tex}%\label{cost_table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

表~\ref{cost_table}に，
図~\ref{fig:USmap}に示した米国本土48州の隣接グラフに基づく
コスト制約付きハミルトン路問題について，
各符号化が解の全列挙に要した CPU 時間(秒)を示す．
ASPシステム{\clingo}のオプションは\textit{crafty}を使用し，
1問あたりの時間制限を3時間とした．
表の1列目はコスト制約の閾値と最短距離からの倍率，2列目は解の総数を表している．
各閾値ごとに，最も良かった値をボールド体で示している．
表より，\textsf{acyclicity}符号化が，他の符号化と比較して，より多くの
問題を高速に解いていることがわかる．また，平均CPU時間も最も短い．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "paper"
%%% End:
