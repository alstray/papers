%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\chapter{実行実験}\label{chap:experiment}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
本章では，前章にて説明した3つの符号化
\textbf{undirected}，\textbf{directed}，\textbf{acyclicity}
の性能を評価するために
行った実験について説明し，その結果と考察を述べる．
実験は，ハミルトン閉路問題，最短ハミルトン閉路問題，
コスト制約付きハミルトン路問題をそれぞれ対象として，3回行った．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{ハミルトン閉路問題}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[tb]
\begin{center}
  \includegraphics[width=10cm]{fig/cactus.png}
\caption{カクタスプロット}
\label{cactus}
\end{center}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{fig/cyclesat_table.tex}%label{sat_table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[tb]
\begin{center}
  \includegraphics[width=10cm]{fig/cactussat.png}
\caption{SATのみのカクタスプロット}
\label{cactussat}
\end{center}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[tb]
\begin{center}
  \includegraphics[width=10cm]{fig/cactusunsat.png}
\caption{UNSATのみのカクタスプロット}
\label{cactusunsat}
\end{center}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

この節では，提案した3つのASP符号化
\textsf{undirected}，\textsf{directed}，\textsf{acyclicity}の
ハミルトン閉路問題に対しての性能を比較評価する．

\begin{itemize}
\item まずは，本実験で用いた6種類のベンチマーク問題について説明する．
それぞれ，color04，complete，knight，tsplib，grid，randomと呼ぶ．
\item color04は
  %1993年秋に開催された\textit{DIMACS Computational Challenge}
  %をベースとする，グラフ彩色問題の計算手法の研究を奨励する一連の活動
  \textit{COLOR02/03/04}\footnote{\url{https://mat.tepper.cmu.edu/COLOR02/}}
  が提供するグラフ彩色問題のインスタンスをそれぞれASPファクト形式に変換した127問である.
\item completeは論文\cite{soh14:jelia2014}の補足資料が載せられた
  webページ\footnote{\url{https://tsoh.org/scarab/jelia2014/}}
  で提供されている完全グラフのインスタンスを，
  ASPファクト形式に変換した15問である.
\item knightは騎士巡回問題(Knight's Tour)のインスタンスであり，
  論文\cite{soh14:jelia2014}と同様に8x8,12x12,20x20,30x30〜100x100
  のマス目のものを用いた．
\item tsplibは，TSPLIBが提供するハミルトン閉路問題のインスタンス群
  \footnote{\url{http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/hcp/}}
  をASPファクト形式に変換した9問である．
\item gridは，頂点数が6x6〜17x17の
  正方グリッドグラフのインスタンス12問である．
\item randomは，先述のwebページ\footnotemark[1]
  にて提供されたランダムに生成されたグラフを表す
  インスタンスをASPファクト形式に変換したものである．
\end{itemize}

解くのに使用したASPシステムは{\clingo}のver5.4.0であり，
オプションは\textit{trendy}，一問あたりの時間制限を30分とした．
実験環境は，Mac mini Intel Corei7 3.2GHz 64GBメモリである．

\begin{itemize}
\item 3符号化の性能比較のため，集計した結果をカクタスプロットにしたものが図~\ref{cactus}である．
\item カクタスプロットは，縦軸が各問題を解くのかかったCPU時間，横軸は解けた問題数を表す．
\item カクタスプロット上では，グラフが右によるほど制限時間内に多くの問題を解けたことを示し，
  下によるほどより早く問題を解けたことを示すが，
  横軸で同じ値を示しても同じ問題を解いていることを示しているわけではないため注意が必要である．
\item 図~\ref{cactus}からわかるように，\textsf{acyclicity}がもっとも優秀な性能を示した．
\item ただし，\textsf{undirected}と\textsf{acyclicity}の間に大きな差が見られなかったため，
  表~\ref{sat_table}によって詳細を比較した．
\end{itemize}

\begin{itemize}
\item　表\ref{sat_table}は，ベンチマーク問題の種類ごとに
  解がSAT，UNSAT，UNKNとなった問題の数を表にしたものである．
\item \textsf{undirected}と\textsf{acyclicity}が
  制限時間内に解けなかった問題数はともに4問であったが，
  その内訳は\textsf{undirected}がcolor04の1問とgridの3問，
  \textsf{acyclicity}がcolor04の2問とgridの2問となった．
%\item color04にて，\textsf{undirected}に解けて\textsf{acyclicity}に解けなかった問題では，変数の個数や一貫性制約の数において，その結果に反して\textsf{acyclicity}が少ない値を示したに．
%\item しかし，{\clingo}が解く過程で\textsf{acyclicity}では，制限時間内のみで，\textsf{undirected}の約40倍もの選択が行われ，発生したコンフリクト数は約60倍であった．
%\item 一方で，gridにて\textsf{acyclicity}に解けて\textsf{undirected}に解けなかった問題では，一貫性制約の数に大きな差はなかったが，変数の数において後者は前者の2倍であった．
%\item さらに，{\clingo}が解く過程で発生した選択数は後者は前者の90倍以上であった．
\item 結果に差が生じた2問について，color04の問題は解がSATであったが，
  gridの問題の解はUNSATであった．
\item 図~\ref{cactus}のカクタスプロットを解がSATであった問題と，
  UNSATの問題とに分けて集計したところ，
  それぞれ，図~\ref{cactussat}と図~\ref{cactusunsat}となった．
\item 図~\ref{cactussat}は図~\ref{cactus}と比べても，傾向に大差はなかったが，
  図~\ref{cactusunsat}では，\textsf{undirected}が優秀な成績を示している．
\item つまり，解がSATであるような問題では\textsf{acyclicity}が優秀であり，
  解がUNSATであるような問題では\textsf{undirected}が優秀であった．
\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{最短ハミルトン閉路問題}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{fig/min_table_tr.tex}%\label{min_table_tr}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

この節では，提案した3つのASP符号化
\textsf{undirected}，\textsf{directed}，\textsf{acyclicity}の
最短ハミルトン閉路問題に対しての性能を比較評価する．

\begin{itemize}
\item ベンチマーク問題としては，12個の正方グリッドグラフと図~\ref{fig:USmap}の米国本土48州の隣接グラフを用いた．
\item 12個の正方グリッドグラフは，前節で用いたgridと同じものである．
\item グリッドグラフの各辺のコストは1000〜2000の範囲の一様ランダム整数値である．
\end{itemize}

解くのに使用したASPシステムは{\clingo}のver5.4.0であり，
オプションは\textit{trendy}，一問あたりの時間制限を3時間とした．
実験環境は，Mac mini Intel Corei7 3.2GHz 64GBメモリである．

実験結果を表~\ref{min_table_tr}にまとめた．

\begin{itemize}
\item 表~\ref{min_table_tr}は，制限時間内に求められたハミルトン閉路の最短距離をまとめたものである．
\item 赤文字が，3符号化を比較した際の最良値であり，*マークがその問題の最短距離が求められたことを表している．
\item したがって，grid5〜7とUS48では全ての符号化にて最短距離が時間内に求められた．
\item 表~\ref{min_table_tr}より，赤文字がもっとも多かった\textsf{undirected}が優秀な性能を示した．
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{コスト制約付きハミルトン路問題}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{fig/cost_table.tex}%\label{cost_table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

この節では，提案した3つのASP符号化
\textsf{undirected}，\textsf{directed}，\textsf{acyclicity}の
コスト制約付きハミルトン閉路問題に対しての性能を比較評価する．

\begin{itemize}
\item ベンチマーク問題として図~\ref{fig:USmap}の米国本土48州の隣接グラフを用いた．
\item 閾値は表\ref{cost_table}にあるように11698〜18716までの10の値を与えた．
\item 始点はWA，終点はMEとした．
\end{itemize}

解くのに使用したASPシステムは{\clingo}のver5.4.0であり，
オプションは\textit{crafty}，一問あたりの時間制限を3時間とした．
実験環境は，Mac mini Intel Corei7 3.2GHz 64GBメモリである．

実験結果として，表~\ref{cost_table}に問題ごとにかかったCPU時間と解の個数をまとめた．

\begin{itemize}
\item 表~\ref{cost_table}では，各閾値におけるコスト制約を満たした
  ハミルトン路の数がModelsの列に記されており，
  その右に各符号化が解くのにかかったCPU時間が記されている．
\item 赤文字が3符号化の中での最短時間を表しており，タイムアウトは発生しなかった．
\item 10の閾値の内の7つにて\textsf{acyclicity}が最短時間で解いている．
\item 各閾値でかかったCPU時間の平均でも，\textsf{acyclicity}が最小である．
\item \textsf{acyclicity}がもっとも優秀であった．
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "paper"
%%% End:
