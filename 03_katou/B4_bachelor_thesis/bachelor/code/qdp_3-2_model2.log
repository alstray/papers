% (変数q_i_j) 各マスのクイーンの有無を表す変数
(int q_1_1 0 1)
(int q_1_2 0 1)
(int q_1_3 0 1)
(int q_2_1 0 1)
(int q_2_2 0 1)
(int q_2_3 0 1)
(int q_3_1 0 1)
(int q_3_2 0 1)
(int q_3_3 0 1)

% (制約8,9,10,11) 変数r_i,c_j,u_a,d_bの導入と各行，各列，各対角線方向のクイーンの個数を表す制約
(int r_1 0 2)
(= r_1 (+ q_1_1 q_1_2 q_1_3))
(int r_2 0 2)
(= r_2 (+ q_2_1 q_2_2 q_2_3))
(int r_3 0 2)
(= r_3 (+ q_3_1 q_3_2 q_3_3))
(int c_1 0 2)
(= c_1 (+ q_1_1 q_2_1 q_3_1))
(int c_2 0 2)
(= c_2 (+ q_1_2 q_2_2 q_3_2))
(int c_3 0 2)
(= c_3 (+ q_1_3 q_2_3 q_3_3))
(int u_1 0 2)
(= u_1 (+ q_1_1))
(int u_2 0 2)
(= u_2 (+ q_1_2 q_2_1))
(int u_3 0 2)
(= u_3 (+ q_1_3 q_2_2 q_3_1))
(int u_4 0 2)
(= u_4 (+ q_2_3 q_3_2))
(int u_5 0 2)
(= u_5 (+ q_3_3))
(int d_1 0 2)
(= d_1 (+ q_1_3))
(int d_2 0 2)
(= d_2 (+ q_1_2 q_2_3))
(int d_3 0 2)
(= d_3 (+ q_1_1 q_2_2 q_3_3))
(int d_4 0 2)
(= d_4 (+ q_2_1 q_3_2))
(int d_5 0 2)
(= d_5 (+ q_3_1))

% (制約7) 各マスにクイーンが移動できるかを表す制約
(or (> r_1 0) (> c_1 0) (> u_1 0) (> d_3 0))
(or (> r_1 0) (> c_2 0) (> u_2 0) (> d_2 0))
(or (> r_1 0) (> c_3 0) (> u_3 0) (> d_1 0))
(or (> r_2 0) (> c_1 0) (> u_2 0) (> d_4 0))
(or (> r_2 0) (> c_2 0) (> u_3 0) (> d_3 0))
(or (> r_2 0) (> c_3 0) (> u_4 0) (> d_2 0))
(or (> r_3 0) (> c_1 0) (> u_3 0) (> d_5 0))
(or (> r_3 0) (> c_2 0) (> u_4 0) (> d_4 0))
(or (> r_3 0) (> c_3 0) (> u_5 0) (> d_3 0))

% (制約12) クイーングラフ上のクイーンの総数がkである制約
(= (+ r_1 r_2 r_3) 2)
(= (+ c_1 c_2 c_3) 2)
(= (+ u_1 u_2 u_3 u_4 u_5) 2)
(= (+ d_1 d_2 d_3 d_4 d_5) 2)
