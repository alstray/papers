\chapter{配電網と根付き全域森} \label{chap:dnet}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

先に述べた通り，トポロジ制約のみの配電網問題は
変電所を根とする根付き全域森探索問題に帰着される．
本章では，扱う配電網のグラフ表現と根付き全域森の定義について説明を行う．

\section{配電網のグラフ表現}
配電網(図\ref{fig:dnet})を表すグラフ表現を図\ref{fig:dnetgraph}に示す．
なお，スイッチの開閉状態は考慮しないものとする．

%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[htbp]
 \centering
 \input{tikz/tikz-graph}
 \caption{図\ref{fig:dnet}を表すグラフ表現}
 \label{fig:dnetgraph}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%

図\ref{fig:dnet}における需要家$\{c_1,\ldots,c_6\}$は，グラフの\textbf{ノード}に対応する．
スイッチ$\{s_1,\ldots,s_7\}$は，グラフの\textbf{辺}に対応し，無向辺として表現する．
図中の色付きノード$\{c_1,c_3\}$は変電所と直接繋がっている需要家を意味しており，
\textbf{根}を表している．
また，根はノードの添字を用いて$\{r_1,r_3\}$のように表す．
以降では，このグラフ表現によって問題の説明を行う．


\section{根付き全域森}
構成する配電網により，電力は変電所から全ての需要家のもとへ届けられなければならない．
スイッチの状態によって決まる供給経路は，短絡の発生を防ぐために
変電所を唯一の根とする木となる．
また，配電網全体を複数の木で覆うことで，停電が発生しないようにする．
つまり，トポロジ制約を満たす配電網問題の解は根付き木の集合である根付き全域森となる．

根付き全域森は以下のように定義される．\cite{Minato:dnet:netuki}
\newline
\textbf{定義}~~グラフ$G=(V,E)$と根$R$が入力として与えられたとする．
% 集合を使って詳しく制約を説明しないのでいらない
%ここで，
%$V$ は $G$ 上のノードの集合 $\{v_1,\ldots,v_n\}$，
%$E$ は $G$ 上の辺の集合 $\{e_1,\ldots,e_m\}$，
%$R$ は $V$ 上のノード $r_1,\ldots,r_l$ をそれぞれ表す．
このとき，$G$上の根付き全域森とは，以下の2つの制約を満たす$G$の部分グラフ
$G'=(V,E')，E' \subseteq E$ である．
\begin{enumerate}
 \item $G'$はサイクルを持たない．\textbf{(非閉路制約)}
 \item $G'$の各連結成分は，ちょうど1つの根を含む．\textbf{(根付き連結制約)}
\end{enumerate}
図\ref{fig:dnetgraph}における根付き全域森の例を図\ref{fig:netuki}に示す．

%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[htbp]
 %
 \begin{minipage}{0.5\hsize}
  \centering
  \input{tikz/tikz-netuki}
 \end{minipage}
 %
 \begin{minipage}{0.5\hsize}
  \centering
  \input{tikz/tikz-netuki2}
 \end{minipage}
 %
 \caption{根付き全域森の例}
 \label{fig:netuki}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%

% グラフの説明
図\ref{fig:netuki}のように根付き全域森は1つの入力グラフに対し，複数存在する．
根付き全域森は，非連結であることを許すが，
各連結成分が必ずちょうど1つの根を持つ木構造を形成することで，非閉路制約と根付き連結制約を満たす．
図\ref{fig:netuki}(左)は，図\ref{fig:dnet}で表した実行可能解をグラフ表現に置き換えたものである．
また，解の一部には図\ref{fig:netuki}(右)のように，ある連結成分が根のみの場合もある．

%%% Local Variables:
%%% mode: japanese-latex
%%% TeX-master: "paper"
%%% End:
