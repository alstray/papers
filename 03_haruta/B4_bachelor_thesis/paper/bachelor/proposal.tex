%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\chapter{グラフ彩色問題とその関連問題のASP符号化}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\section{ASPファクト形式}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstinputlisting[float=t,caption={%
同色頂点数最小化問題のASP符号化},%
captionpos=b,frame=single,label=code:asp.lp,%
numbers=left,%
breaklines=true,%
columns=fullflexible,keepspaces=true,%
basicstyle=\ttfamily\footnotesize]{code/aspfact.lp}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

本節では，グラフ彩色判定問題を例としてASPファクト形式について説明する．
図のグラフをファクト形式で表したものをコード~\ref{code:asp.lp}に示す．

1行目と2行目はそれぞれ頂点数と辺数を宣言している．
4行目ではアトム~\code{node}によって頂点1から頂点6まで表している．
10行目ではアトム~\code{edge}によって辺を定義している．
\code{edge(X,Y)}は頂点~\code{X}と頂点~\code{Y}の間に辺が存在していることを意味する．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{グラフ彩色判定問題のASP符号化}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstinputlisting[float=t,caption={%
グラフ彩色判定問題のASP符号化},%
captionpos=b,frame=single,label=code:color.lp,%
numbers=left,%
breaklines=true,%
columns=fullflexible,keepspaces=true,%
basicstyle=\ttfamily\footnotesize]{code/color1.lp}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

コード~\ref{code:color.lp}にグラフ彩色判定問題のASP符号化を示す．
符号化中の~\code{k}は色数を表しており，実行時に与えられる．
1行目では彩色する色数を指定している．
2行目のルールでは各頂点~\code{node(X)}に対して，
その頂点が色~\code{C}で彩色することを意味するアトム~\code{color(X,C)}が
各頂点に対して唯一存在することを選択子を用いて導入している．
3行目のルールでは各辺~\code{X-Y}に対して，
頂点~\code{X}と頂点~\code{Y}が同じ色で彩色されることを禁止している．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\section{グラフ彩色における同色頂点数最小化問題のASP符号化}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstinputlisting[float=t,caption={%
同色頂点数最小化問題のASP符号化},%
captionpos=b,frame=single,label=code:color1.lp,%
numbers=left,%
breaklines=true,%
columns=fullflexible,keepspaces=true,%
basicstyle=\ttfamily\footnotesize]{code/color_min.lp}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

グラフ彩色における同色頂点数最小化問題のASP符号化は，
グラフ彩色判定問題のASP符号化をベースにして，
同色で彩色される頂点数を最小化関数(~\code{#minimize})を用いて最小化する符号化である．
コード~\ref{code:color1.lp}に同色頂点数最小化問題のASP符号化を示す．

%符号化中の~\code{k}は色数を表しており，実行時に与えられる．
1行目では，色~\code{v}を指定し，この色で彩色される頂点数を最小化する．
%3行目では彩色する色数を指定している．
%5行目のルールでは各頂点~\code{node(X)}に対して，
%その頂点が色Cで彩色することを意味する~\code{color(X,C)}が
%各頂点に対して唯一存在することを選択子を用いて導入している．
%6行目のルールでは各辺\code{X-Y}に対して，
%頂点\code{X}と頂点\code{Y}が同じ色で彩色されることを禁止している．
3-5行目は
コード~\ref{code:color.lp}の1-3行目と同様である．
7行目では~\code{#minimize}を利用することによって，
色~\code{v}で彩色されている頂点数を最小化している．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\section{グラフ彩色における同色頂点数最大化問題のASP符号化}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstinputlisting[float=t,caption={%
同色頂点数最大化問題のASP符号化},%
captionpos=b,frame=single,label=code:color2.lp,%
numbers=left,%
breaklines=true,%
columns=fullflexible,keepspaces=true,%
basicstyle=\ttfamily\footnotesize]{code/color_max.lp}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

グラフ彩色における同色頂点数最大化問題のASP符号化は，
同色頂点数最小化問題のASP符号化と同様に，
グラフ彩色判定問題のASP符号化をベースにして，
同色で彩色される頂点数を最大化関数(~\code{#maximize})を用いて最大化する符号化である．
コード~\ref{code:color2.lp}に同色頂点数最大化問題のASP符号化を示す．

%符号化中の~\code{k}は色数を表しており，実行時に与えられる．
1行目では，色~\code{v}を指定し，この色で彩色される頂点数を最大化する.
%3行目では彩色する色数を指定している．
%5行目のルールでは各頂点~\code{node(X)}に対して，
%その頂点が色Cで彩色することを意味する~\code{color(X,C)}が
%各頂点に対して唯一一つ存在することを選択子を用いて導入している．
%6行目のルールでは各辺\code{X-Y}に対して，
%頂点\code{X}と頂点\code{Y}が同じ色で彩色されることを禁止している．
3-5行目はコード~\ref{code:color1.lp}と同様である．
7行目では~\code{#maximize}を利用することによって，
色~\code{v}で彩色されている頂点数を最大化している．


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\section{グラフ彩色における多色頂点数最大化問題のASP符号化}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstinputlisting[float=t,caption={%
多色頂点数最大化問題のASP符号化},%
captionpos=b,frame=single,label=code:color3.lp,%
numbers=left,%
breaklines=true,%
columns=fullflexible,keepspaces=true,%
basicstyle=\ttfamily\footnotesize]{code/color_mult.lp}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

グラフ彩色における多色頂点数最大化問題のASP符号化は，
グラフ彩色判定問題のASP符号化をベースにして，
多色で彩色できる頂点数を最大化する符号化である．
コード~\ref{code:color3.lp}に多色頂点数最大化問題のASP符号化を示す．

%符号化中の~\code{k}は色数を表しており，実行時に与えられる．
%1行目では彩色する色数を指定している．
%3行目のルールでは各頂点~\code{node(X)}に対して，
%その頂点が色Cで彩色することを意味する~\code{color(X,C)}が
%各頂点に対して存在することを選択子を用いて導入している．
%4行目のルールでは各辺\code{X-Y}に対して，
%頂点\code{X}と頂点\code{Y}が同じ色で彩色されることを禁止している．
1-3行目は，それぞれコード~\ref{code:color.lp}の1-3行目と同様である．
5行目では各頂点~\code{node(X)}に対して，彩色できる色が2色以上ある場合，
多色で彩色できることを意味するアトム~\code{mult(X)}を個数制約を用いて導入している．
7行目では~\code{#maximize}を利用することによって，
~\code{mult(X)}の数，つまり多色で彩色できる頂点数を最大化している．

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "paper"
%%% End:
