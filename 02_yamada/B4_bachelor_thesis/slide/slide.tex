\documentclass[dvipdfmx,11pt]{beamer}

%全体設定
%\AtBeginDvi{\special{pdf:tounicode 90ms-RKSJ-UCS2}}

\usepackage{bxdpx-beamer}% dvipdfmxなので必要
\usepackage{graphicx}
\usepackage{pxjahyper}
\usepackage{minijs}
\usepackage{otf}
\usepackage{amssymb,amsmath}
\usepackage{hyperref}
\usepackage[absolute,overlay]{textpos}
\usepackage{comment}
\usepackage{colortbl}
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{positioning}
\usetikzlibrary{shadows}
\usepackage{listings}
%\usepackage{plistings}
\def\lstlistingname{コード}
\usetheme{Copenhagen}
\setbeamertemplate{navigation symbols}{} %スライドのボタン?(右下のやつ)を消す
%\setbeamertemplate{footline}[short title]
\setbeamersize{text margin left=1.5em,text margin right=1.5em} % 余白なくすやつ

% footer setting %
\makeatother
\setbeamertemplate{footline}
{
  \leavevmode
  \hbox{
  \begin{beamercolorbox}[wd=.4\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}
    \usebeamerfont{author in head/foot}\insertshortauthor
  \end{beamercolorbox}
  \begin{beamercolorbox}[wd=.6\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}
    \usebeamerfont{title in head/foot}\hspace*{1ex} \insertshorttitle\hspace*{3em}
    \textbf{ \insertframenumber{} / \inserttotalframenumber } \hspace*{1ex}
  \end{beamercolorbox}}
  \vskip0pt
}
\makeatletter

% exclude apprendix slides from framenumber %
\newcommand{\backupbegin}{
   \newcounter{framenumberappendix}
   \setcounter{framenumberappendix}{\value{framenumber}}
}
\newcommand{\backupend}{
   \addtocounter{framenumberappendix}{-\value{framenumber}}
   \addtocounter{framenumber}{\value{framenumberappendix}} 
}

\renewcommand{\kanjifamilydefault}{\gtdefault}
%\usetheme{Madrid}

\title[ASPを用いた組合せ遷移問題の解法に関する考察]{解集合プログラミングを用いた\\組合せ遷移問題の解法に関する考察}
\author{101730408~~~山田~悠也}
\date{2020年度卒業研究発表会\\2021年2月19日}
\institute{番原研究室}

%% テンプレ 
\begin{comment}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% タイトル
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}\frametitle{}
\end{frame}

\end{comment}

%###########################################################
%# 本文 ####################################################
%###########################################################
\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% タイトル 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}\frametitle{}
  \titlepage
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 組合せ遷移問題
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}\frametitle{組合せ遷移問題(Combinatorial Reconfiguration)}

  \begin{itemize}
    \item \alert{組合せ遷移問題}では，組合せ問題の解空間グラフ上における二つの頂点間の経路の存在を問う．
    \item \alert{解空間グラフ}とは，
    \begin{itemize}
      \item 頂点は組合せ問題の実行可能解となる．
      \item 辺は\structure{遷移制約}を満たす二つの頂点間に存在する．
    \end{itemize} 
    \item 既存の組合せ問題の多くを組合せ遷移問題に拡張できる．
    \begin{itemize}
      \item NP完全である組合せ問題を基とする問題の多くは，\alert{PSPACE完全}であることが知られている．
    \end{itemize}
    %\item \structure{持続可能なシステム}への応用が期待されている．
    %\item 実践的な研究は初期段階．
    \item \alert{$k$彩色遷移問題}はPSPACE完全な組合せ遷移問題の一つ．
    \begin{itemize}
      \item 基となる問題はグラフ点彩色問題．
      \item 色数\alert{$k \geq 4$}のとき，PSPACE完全であることが知られている．~[Paul Bonsmaほか '09]
      \item グラフの形と色数に制限を加えることにより，多項式時間で解けるものも存在．
      \item \alert{汎用的かつ効率的なアルゴリズムは見つかっていない}．
    \end{itemize}
  \end{itemize}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% k彩色遷移問題
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\frametitle{$k$彩色遷移問題}

  \begin{block}{$k$彩色遷移問題の定義}
    \begin{itemize}
      \item 問題の入力は，グラフ\structure{$G=(V, E)$}，色数\structure{$k$}，及び$G$の$k$彩色の二つの実行可能解\structure{$\alpha$}(初期状態)と\structure{$\beta$}(目標状態)．
      \item 隣接関係は，ある一つの頂点のみ色が異なるような実行可能解．
      \item \structure{$\alpha$から$\beta$への経路の存在についての判定問題}．
    \end{itemize}
  \end{block}

  \begin{exampleblock}{$k$彩色遷移問題の例}
    \begin{columns}
      \begin{column}{0.3\textwidth}
        \centering
        \input{tikz/graph0.tex}
        ステップ0($=\alpha$)
      \end{column}
      \begin{column}{0.05\textwidth}
        \textbf{$\longrightarrow$}
      \end{column}
      \begin{column}[]{0.3\textwidth}
        \centering
        \input{tikz/graph1.tex}
        ステップ1
      \end{column}
      \begin{column}{0.05\textwidth}
        \textbf{$\longrightarrow$}
      \end{column}
      \begin{column}{0.3\textwidth}
        \centering
        \input{tikz/graph2.tex}
        ステップ2($=\beta$)
      \end{column}
    \end{columns}
  \end{exampleblock}
  
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ASP
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\frametitle{解集合プログラミング(Answer Set Programming; ASP)}

  \begin{itemize}
    \item ASP言語は一階論理に基づいた知識表現言語の一種である．
    \item ASPシステムは安定モデル理論~[Gelfond and Lifschitz '88] に基づいた知識表現言語の一種である．
    \item 近年, SAT技術の応用により高速なASPシステムが実現し, システム検証やプランニングなどの様々な分野での実用が拡大している．
  \end{itemize}

  \begin{alertblock}{組合せ遷移問題に対してASPを用いる利点}
    \begin{itemize}
      \item ASPの高い表現力により，問題の制約を簡潔に記述できる．
      \item ASPシステムの一つである\textit{clingo}のインクリメンタルモードを用いることにより，段階的な解の探索を効率よく実行できる．
    \end{itemize}
  \end{alertblock}
  
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 研究目的
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\frametitle{研究目的}
  \begin{alertblock}{目的}
    ASPを利用し，組合せ遷移問題の一つであり，PSPACE完全な問題の一つでもある$k \ge 4$の$k$彩色遷移問題を高速で解く．%ける符号化を提案し評価する．
  \end{alertblock}

  \begin{block}{研究内容}
    \begin{enumerate}
      \item $k$彩色遷移問題を解く，3種類の符号化の提案．
      \item ベンチマークの環境の整備．
      \item 作成したベンチマークを用いた，各種符号化の評価実験．
    \end{enumerate}
  \end{block}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 符号化
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\frametitle{符号化(1/2)}

  \begin{itemize}
    \item $|T|$をステップ数$t$, $|C|$を色数$k$, $|V|$をグラフ$G$の頂点数とする.
    
  \end{itemize}

  \begin{table}[t]
    \centering
    \input{table/encoding.tex}
  \end{table}

  \begin{itemize}
    \item 3種の符号化は遷移制約の記述が異なる．
    \item vrc1は基本となる符号化．
    \item vrc2はアトムchangedを追加し，「遷移で色が変わる頂点は一つのみ」という個数制約を使用．
    \item vrc3はアトムunchangedを追加し，「遷移で色が変わらない頂点は$|V|-1$個のみ」という個数制約を使用．
    \item アトムを追加することで遷移制約のルール数を抑えている．
  \end{itemize}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 符号化
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\frametitle{符号化(2/2)}

  \begin{itemize}
    \item グラフ$G$，色数$k$，Gの$k$彩色の二つの実行可能解$\alpha$，$\beta$に加え， \structure{遷移回数$t$}を与える．
    \begin{itemize}
      \item $t$回の遷移で$\alpha$から$\beta$へ遷移可能かの判定問題へと変更. 
    \end{itemize}
    \item $t$を遷移回数の上限値まで大きくしていくことで，最終的に経路の存在について判定可能．
    \begin{itemize}
      \item 途中で経路が存在すれば，本来の問題でも経路が存在．
      \item すべての$t$において経路が存在しないのであれば，本来の問題でも経路が存在しない．
    \end{itemize}
    \item $t$の上限値は\structure{解空間グラフの頂点数$-1$}．
  \end{itemize}

% 結果の分類の説明も行う？
  
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ベンチマーク
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{comment}
\begin{frame}\frametitle{ベンチマーク}

  \begin{itemize}
    \item 現時点で組合せ遷移問題は理論面の研究が主流であり, ベンチマークの整備が必要.
    \item 実験においてステップ$t$を与えるとき, その上限値が必要となる.
    \item ステップ$t$の上限値は, グラフ$G$を$k$彩色するときの実行可能解の数と等しい.
  \end{itemize}

  従って, 全解列挙が可能な($G, k$)からベンチマークを生成する必要がある.
  
\end{frame}
\end{comment}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 実験環境
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\frametitle{実験概要}

  3種の符号化の評価にあたり，以下の実験を行った．
  \begin{itemize}
    \item \structure{ベンチマーク}: 独自に作成した90問
    \begin{itemize}
      \item \textit{Graph Coloring and its Generalizations}
      \footnote{https://mat.tepper.cmu.edu/COLOR04/}で公開されている，\textit{Graph Coloring Instances}に属するグラフ9個を使用．
      \item 各グラフ10問ずつベンチマークを作成．
    \end{itemize}
    \item \structure{色数}: 各グラフにおける彩色数

    \item \structure{ASPシステム}: \textit{clingo-5.4.0} \textit{jumpy}
    \item \structure{制限時間}: 3600秒/問
    \item \structure{環境}: Mac mini，3.2GHz 6コア Intel Core i7，64GB メモリ
  \end{itemize}
  
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 実験結果
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\frametitle{実験結果:到達可能}

  \begin{table}[t]
    \centering
    \input{table/result_con}  
  \end{table}

  \begin{itemize}
    \item 90問中11問が該当．
    \item vrc1が最も遅かった．
    \item vrc2とvrc3では有意な差がついたのは1問にとどまったが，vrc3が最もよい性能を示した．
  \end{itemize}
  
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 実験結果
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\frametitle{実験結果:到達不可能}

  \begin{table}[t]
    \centering
    \input{table/result_uncon}  
  \end{table}

  \begin{itemize}
    \item 90問中10問が該当．
    \item vrc3$>$vrc2$>$vrc1の順によい性能を示した．
  \end{itemize}
  
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 実験結果
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\frametitle{実験結果:考察}

  \begin{itemize}
    \item 90問中69問は判定に至らなかった．
    \begin{itemize}
      \item 遷移回数$t$をどこまで増やせたかで比較．
      \item vrc3$>$vrc2$>$vrc1の順によい性能を示した．
      \item グラフ\textit{queen6\_6}・\textit{queen7\_7}を基としたインスタンスではvrc2が著しく悪い性能を示した．
    \end{itemize}
    \item 結果によらず，\structure{vrc3$>$vrc2$>$vrc1の順}によい性能を示した．
    \item 要因として，ルール数の差が考えられる．
    \begin{itemize}
      \item \textit{clingo}では与えられたASP言語を充足可能性判定問題へと変換して解く．
      \item ルール数を少なくすることは，節数を少なくすることにつながる．
      \item 節数が多いとオーバーヘッドが増加．
    \end{itemize}
  \end{itemize}
  
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 今後の課題
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\frametitle{まとめと今後の課題}

  \begin{block}{まとめ}
    \begin{itemize}
      \item $k$彩色遷移問題の隣接関係に対して，3種類の符号化を提案した．
      \begin{itemize}
        \item アトムを追加することで，ルール数を大幅に削減することができた．
      \end{itemize}
      \item 提案した符号化に対して，評価実験を行った．
      \begin{itemize}
        \item ルール数が最少である符号化\textbf{vrc3}について，優位性が確かめられた．
      \end{itemize}
    \end{itemize}
  \end{block}
  
  \begin{alertblock}{今後の課題}
    \begin{itemize}
      \item vrc3の\alert{インクリメンタルサーチモード}への拡張．
      \item ベンチマーク環境の改善．
      \begin{itemize}
        \item 連結インスタンスの充実．
      \end{itemize}
    \end{itemize}
  \end{alertblock}

\end{frame}

%###########################################################
%##### 補助スライド ########################################
%###########################################################

\input{subslide.tex}

\end{document}