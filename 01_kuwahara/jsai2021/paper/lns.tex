\section{巨大近傍探索 (Large Neighborhood Search; LNS)}

\subsection{LNS の概要}
LNS は確率的局所探索による近似解法の一種である．
LNS では問題に対する暫定解を求め，
暫定解に含まれる変数の値割当ての一部をランダムに選んで取り消し，
その変数のみに対して再割当てを
行う解の再構築を繰り返す．
LNS の特徴として，
解の再構築では，
暫定解のうち取り消された変数に対してのみ再割り当てが行われ，
その他の変数に対する値割り当ては変化しないという点が挙げられる．

\subsection{LNS のアルゴリズム}
LNS のアルゴリズムを以下の Algorythm 1 に示す．
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{table}[htb]
%\centering
\begin{tabular}{l}\hline
\textbf{Algorythm 1} Large neighborhood search\\ \hline
%\begin{tabbing}
 ~1: input: a feasible solution $x$ \\
 ~2: $x^b$ = $x$; \\
 ~3: \bf{repeat} \\
 ~4: \quad \quad $x^t$ = repair($d(x)$); \\
 ~5: \quad \quad \textbf{if} accept($x^t$,$x$) \textbf{then} \\
 ~6: \quad \quad \quad \quad $x$ = $x^t$; \\
 ~7: \quad \quad \textbf{end if} \\
 ~8: \quad \quad \textbf{if} $c(x^t)$ \verb|<| $c(x^b)$ \textbf{then} \\
 ~9: \quad \quad \quad \quad $x^b$ = $x^t$; \\
10: \quad \quad \textbf{end if} \\
11: \textbf{until} stop criterion is met \\
12: \textbf{return} $x^b$ \\ \hline
%\end{tabbing}
\end{tabular}
\end{table}\\
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
1 行目では，初期解を求め $x$と置く．
2 行目で最良解 $x^b$ = $x$ として 3 行目以下のループに入る．
4 行目では，以下の destroy と repair で $x$ から得られた解を $x^t$ とする．
\begin{itemize}
\item destroy : $x$ から値割当ての一部を取り消し $x′$ とする．
\item repair : $x′$ の値割当てを変化させずに解を再構築する．
\end{itemize}
5〜7 行目では，$x^t$ を受理する条件を満たしている場合に $x$ = $x^t$ とする．
受理条件には，「$x^t$ が $x$ より改善された解なら」などの条件を用いる．
8〜10 行目では，$x^t$ が最良解 $x^b$ より改善された解である場合に $x^b$ = $x^t$ とする．
11 行目では，終了条件が満たされていればループを抜け出して 12 行目に進み，
そうでなければ 4 行目に戻る．
終了条件には，繰り返し回数や制限時間などを用いる．
12 行目では，最良解 $x^b$ を返して終了する．